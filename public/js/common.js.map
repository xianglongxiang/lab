{"version":3,"sources":["common.js"],"names":["msgbox","content","func","height","width","create_mask","create_msgbox","get_width","document","body","clientWidth","scrollLeft","get_height","clientHeight","scrollTop","get_left","w","bw","parseFloat","get_top","h","bh","mask","createElement","id","style","position","filter","opacity","background","top","left","minHeight","zIndex","onclick","removeCon","appendChild","t","box","className","window","screen","availHeight","overflow","innerHTML","re_pos","re_mask","getElementById","removeChild","re_show","load_func","onresize","onscroll","createIssue","title","$","value","md","preview","markdown","toHTML","ajax","type","url","dataType","data","success","state","location","href","alert","scroll","this","fadeIn","fadeOut","click","tooltip","animate"],"mappings":"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","file":"common.js","sourcesContent":["\n//加入购物车弹窗方法\nfunction msgbox(content,func,height,width){\n    create_mask();\n    create_msgbox(width,height,content);\n}\n\nfunction get_width(){\n    return (document.body.clientWidth+document.body.scrollLeft);\n}\nfunction get_height(){\n    return (document.body.clientHeight+document.body.scrollTop);\n}\nfunction get_left(w){\n    var bw=document.body.clientWidth;\n    var bh=document.body.clientHeight;\n    w=parseFloat(w);\n    return (bw/2-w/2+document.body.scrollLeft);\n}\nfunction get_top(h){\n    var bw=document.body.clientWidth;\n    var bh=document.body.clientHeight;\n    h=parseFloat(h);\n    return (bh/2-h/2+document.body.scrollTop);\n}\nfunction create_mask(){//创建遮罩层的函数\n    var mask=document.createElement(\"div\");\n    mask.id=\"mask\";\n    mask.style.position=\"absolute\";\n    mask.style.filter=\"progid:DXImageTransform.Microsoft.Alpha(style=4,opacity=25)\";//IE的不透明设置\n    mask.style.opacity=0.4;//Mozilla的不透明设置\n    mask.style.background=\"black\";\n    mask.style.top=\"0px\";\n    mask.style.left=\"0px\";\n    mask.style.width = get_width() + \"px\";\n    mask.style.height = get_height() + \"px\";\n    mask.style.minHeight = \"800px\";\n    mask.style.zIndex = 10;\n    mask.onclick = function(){\n        removeCon();\n    };\n    document.body.appendChild(mask);\n}\nfunction create_msgbox(w,h,t){//创建弹出对话框的函数\n    var box=document.createElement(\"div\")\t;\n    box.id=\"msgbox\";\n    box.className = 'msg';\n    box.style.position=\"fixed\";\n    box.style.top = (window.screen.availHeight - h)/2 + \"px\";\n    box.style.left = (get_width() - w)/2 + \"px\";\n    // box.style.width = w + \"px\";\n    // box.style.height = h + \"px\";\n    box.style.overflow=\"visible\";\n    box.innerHTML=t;\n    box.style.zIndex=11;\n    document.body.appendChild(box);\n    re_pos();\n}\nfunction re_mask(){\n    /*\n     更改遮罩层的大小,确保在滚动以及窗口大小改变时还可以覆盖所有的内容\n     */\n    var mask=document.getElementById(\"mask\")\t;\n    if(null==mask)return;\n    mask.style.width = get_width()+\"px\";\n    mask.style.height = get_height()+\"px\";\n}\nfunction re_pos(){\n    /*\n     更改弹出对话框层的位置,确保在滚动以及窗口大小改变时一直保持在网页的最中间\n     */\n    var box=document.getElementById(\"msgbox\");\n    if(null!=box){\n        var w=box.style.width;\n        var h=box.style.height;\n        box.style.left=get_left(w)+\"px\";\n        box.style.top=get_top(h)+\"px\";\n    }\n}\nfunction removeCon(){\n    /*\n     清除遮罩层以及弹出的对话框\n     */\n    var mask=document.getElementById(\"mask\");\n    var msgbox=document.getElementById(\"msgbox\");\n    if(null == mask && null == msgbox)return;\n    document.body.removeChild(mask);\n    document.body.removeChild(msgbox);\n}\n\nfunction re_show(){\n    /*\n     重新显示遮罩层以及弹出窗口元素\n     */\n    re_pos();\n    re_mask();\n}\nfunction load_func(){\n    /*\n     加载函数,覆盖window的onresize和onscroll函数\n     */\n    window.onresize=re_show;\n    window.onscroll=re_show;\n}\n\n\nfunction createIssue() {\n    var title = $('#title')[0].value;\n    var md = $(\"#lab-create-input\")[0].value;\n    var preview = markdown.toHTML(md);\n    $.ajax({type:'POST',url:'/createIssue',dataType: \"json\",data:{\n        title:title,\n        md:md,\n        preview:preview\n    },success: function (data) {\n      if(data.state == 1){\n        window.location.href = '/issues';\n      }else if(data.state == -1){\n        alert(\"issue创建失败！\");\n      }\n    }});\n}\n\n\n/*点击返回顶部*/\n$(window).scroll(function() {\n    if ($(this).scrollTop() > 50) {\n        $('#scrollUp').fadeIn();\n    } else {\n        $('#scrollUp').fadeOut();\n    }\n});\n// scroll body to 0px on click\n$('#scrollUp').click(function() {\n    $('#scrollUp').tooltip('hide');\n    $('body,html').animate({\n        scrollTop: 0\n    }, 200);\n    return false;\n});\n\n\n"],"sourceRoot":"/source/"}