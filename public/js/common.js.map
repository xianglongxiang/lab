{"version":3,"sources":["common.js"],"names":["createIssue","title","$","value","md","preview","markdown","toHTML","ajax","type","url","dataType","data","success","state","window","location","href","alert","document","get_width","body","clientWidth","scrollLeft","get_height","clientHeight","scrollTop","get_left","w","bw","parseFloat","get_top","h","bh","create_mask","mask","createElement","id","style","position","filter","opacity","background","top","left","width","height","minHeight","zIndex","onclick","removeCon","appendChild","create_msgbox","t","box","className","screen","availHeight","marginTop","transition","overflow","innerHTML","re_pos","getElementById","msgbox","removeChild","initModule","content","func","close","submit","addEventListener","getElementsByClassName","zfAlert"],"mappings":"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","file":"common.js","sourcesContent":["/**\n 自定义alert方法\n */\n//var zf_alert = (function (window,document){\n(function (window,document){\n    'use strict';\n    var\n      settings = {\n          height:600,\n          width:500,\n          temp:\"<div class='modal' style='border-radius: 10px;background:rgba(255,255,255,1)'><div class='modal-header' style='padding: 9px 15px;border-bottom: 1px solid #eee'><h3 style='margin:0'>注册</h3></div><div class='modal-main' style='padding:15px'><input id='username' type='text' name='username' placeholder='用户名' style='display:block;width:25rem;margin: 10px 0px;padding: 6px 12px;border:1px solid #ccc;border-radius: 4px;'><input id='password' type='password' name='password' placeholder='密码' style='display:block;width:25rem;margin: 10px 0px;padding: 6px 12px;border:1px solid #ccc;border-radius: 4px;'><input id='repassword' type='password' name='repassword' placeholder='确认密码' style='display:block;width:25rem;margin: 10px 0px;padding: 6px 12px;border:1px solid #ccc;border-radius: 4px;'></div><div class='modal-footer' style='padding:14px 15px 15px;background-color: #f5f5f5;border-top:1px solid #ddd;box-shadow: inset 0 1px 0 #ffffff;border-bottom-left-radius:10px;border-bottom-right-radius:10px;overflow: hidden;'><button id='submit' class='btn-green' style='float: right'>Submit</button><button id='close' class='btn-white' style='margin-right: 10px; float: right'>Close</button></div></div>\"\n      },\n      initModule\n      ;\n\n    //加入购物车弹窗方法\n    initModule = function msgbox(content,func,height,width){\n        create_mask();\n        create_msgbox(width,height,content);\n        var close = document.getElementById('close');\n        var submit = document.getElementById('submit');\n        close.addEventListener('click',removeCon,false);\n        submit.addEventListener('click',func,false);\n        document.getElementsByClassName('msg')[0].style.marginTop = \"0\";\n        document.getElementsByClassName('msg')[0].style.opacity = \"1\";\n    };\n\n    function get_width(){\n        return (document.body.clientWidth+document.body.scrollLeft);\n    }\n    function get_height(){\n        return (document.body.clientHeight+document.body.scrollTop);\n    }\n    function get_left(w){\n        var bw=document.body.clientWidth;\n        var bh=document.body.clientHeight;\n        w=parseFloat(w);\n        return (bw/2-w/2+document.body.scrollLeft);\n    }\n    function get_top(h){\n        var bw=document.body.clientWidth;\n        var bh=document.body.clientHeight;\n        h=parseFloat(h);\n        return (bh/2-h/2+document.body.scrollTop);\n    }\n    function create_mask(){//创建遮罩层的函数\n        var mask=document.createElement(\"div\");\n        mask.id=\"mask\";\n        mask.style.position=\"absolute\";\n        mask.style.filter=\"progid:DXImageTransform.Microsoft.Alpha(style=4,opacity=25)\";//IE的不透明设置\n        mask.style.opacity=0.4;//Mozilla的不透明设置\n        mask.style.background=\"black\";\n        mask.style.top=\"0px\";\n        mask.style.left=\"0px\";\n        mask.style.width = get_width() + \"px\";\n        mask.style.height = get_height() + \"px\";\n        mask.style.minHeight = \"800px\";\n        mask.style.zIndex = 10;\n        mask.onclick = function(){\n            removeCon();\n        };\n        document.body.appendChild(mask);\n    }\n    function create_msgbox(w,h,t){//创建弹出对话框的函数\n        var box=document.createElement(\"div\")\t;\n        box.id=\"msgbox\";\n        box.className = 'msg';\n        box.style.position=\"fixed\";\n        box.style.top = (window.screen.availHeight - h)/2 + \"px\";\n        box.style.left = (get_width() - w)/2 + \"px\";\n        box.style.opacity = 0;\n        box.style.marginTop = \"-100px\";\n        box.style.transition = \"all 0.5s ease\";\n        // box.style.width = w + \"px\";\n        // box.style.height = h + \"px\";\n        box.style.overflow=\"visible\";\n        box.innerHTML=t;\n        box.style.zIndex=11;\n        document.body.appendChild(box);\n        re_pos();\n    }\n\n\n    function re_mask(){\n        /*\n         更改遮罩层的大小,确保在滚动以及窗口大小改变时还可以覆盖所有的内容\n         */\n        var mask=document.getElementById(\"mask\")\t;\n        if(null==mask)return;\n        mask.style.width = get_width()+\"px\";\n        mask.style.height = get_height()+\"px\";\n    }\n    function re_pos(){\n        /*\n         更改弹出对话框层的位置,确保在滚动以及窗口大小改变时一直保持在网页的最中间\n         */\n        var box=document.getElementById(\"msgbox\");\n        if(null!=box){\n            var w=box.style.width;\n            var h=box.style.height;\n            box.style.left=get_left(w)+\"px\";\n            box.style.top=get_top(h)+\"px\";\n        }\n    }\n    function removeCon(){\n        /*\n         清除遮罩层以及弹出的对话框\n         */\n        var mask=document.getElementById(\"mask\");\n        var msgbox=document.getElementById(\"msgbox\");\n        if(null == mask && null == msgbox)return;\n        document.body.removeChild(mask);\n        document.body.removeChild(msgbox);\n    }\n    window.zfAlert = initModule;\n    window.zfAlert.removeCon = removeCon;\n    //return {initModule:initModule};\n\n})(window,document);\n\n\nfunction createIssue() {\n    var title = $('#title')[0].value;\n    var md = $(\"#lab-create-input\")[0].value;\n    var preview = markdown.toHTML(md);\n    $.ajax({type:'POST',url:'/createIssue',dataType: \"json\",data:{\n        title:title,\n        md:md,\n        preview:preview\n    },success: function (data) {\n      if(data.state == 1){\n        window.location.href = '/issues';\n      }else if(data.state == -1){\n        alert(\"issue创建失败！\");\n      }\n    }});\n}\n\n\n///*点击返回顶部*/\n//$(window).scroll(function() {\n//    if ($(this).scrollTop() > 50) {\n//        $('#scrollUp').fadeIn();\n//    } else {\n//        $('#scrollUp').fadeOut();\n//    }\n//});\n//// scroll body to 0px on click\n//$('#scrollUp').click(function() {\n//    $('#scrollUp').tooltip('hide');\n//    $('body,html').animate({\n//        scrollTop: 0\n//    }, 200);\n//    return false;\n//});\n\n\n"],"sourceRoot":"/source/"}