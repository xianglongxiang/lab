{"version":3,"sources":["zf/zf.js"],"names":["window","docment","delegate","agent","type","selector","fn","filter","target","nodes","querySelectorAll","i","length","console","log","addEventListener","e","cTarget","currentTarget","bubbles","call","parentNode","isArray","obj","Array","w","doc","Zf","prototype","init","constructor","splice","element","this","ready","trim","charAt","match","substring","getElementsByClassName","getElementById","css","attr","val","arguments","getComputedStyle","style","_this","zf","each","cssText","hasClass","cls","reg","RegExp","className","addClass","removeClass","replace","bind","callback","len","con","getWidth","body","clientWidth","scrollLeft","getHeight","clientHeight","scrollTop","removeEventListener","dele","ajax","options","createXHR","XMLHttpRequest","ActiveXObject","callee","activeXString","versions","ex","Error","ajaxSuccess","data","xhr","status","success","ajaxComplete","complete","defaultOptions","url","undefined","open","onreadystatechange","readyState","result","responseText","JSON","parse","eval","setRequestHeader","send","stringify","document"],"mappings":"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","file":"zf/zf.js","sourcesContent":["/*\n* 添加\n* 事件代理\n* */\n\n(function(window,docment){\n  'use strict';\n  var w = window,\n      doc = docment;\n  var Zf = function (selector) {\n    return Zf.prototype.init(selector);\n  };\n  Zf.prototype = {\n    constructor : Zf,\n    length : 0,\n    splice : [].splice(),\n    selector : '',\n    init : function(selector){\n      var element,i;\n      if(!selector){return this;}\n\n      if(typeof selector === 'object'){\n        selector = [selector];\n        for ( i = 0; i < selector.length; i += 1) {\n          this[i] = selector[i];\n        }\n        this.length = selector.length;\n        return this;\n      } else if(typeof selector === 'function'){\n        Zf.ready(selector);\n        return ;\n      }\n\n      selector = selector.trim();\n\n      if(selector.charAt(0) === \"#\" && !selector.match('\\\\s')){\n\n        selector = selector.substring(1);\n        element = doc.getElementById(selector);\n        this.selector = selector;\n        this.length = 1;\n        this[0] = element;\n        return this;\n\n      } else if(selector.charAt(0) === \".\"){\n\n        selector = selector.substring(1);\n        element = doc.getElementsByClassName(selector);\n        for (i = 0; i < element.length; i++) {\n          this[i] = element[i];\n        }\n        this.selector = selector;\n        this.length = element.length;\n        return this;\n\n      } else{\n\n        element = doc.querySelectorAll(selector);\n        for (i = 0; i < element.length; i++) {\n          this[i] = element[i];\n        }\n        this.selector = selector;\n        this.length = element.length;\n        return this;\n      }\n    },\n\n    css : function(attr,val){\n      var i;\n      for(i = 0;i < this.length; i++) {\n        if(typeof attr === 'string') {\n          if (arguments.length === 1) {\n            return getComputedStyle(this[i], null)[attr];\n          }\n          this[i].style[attr] = val;\n        } else{\n          var _this = this[i];\n          w.zf.each(attr,function(attr,val) {\n            w.console.log(this);\n            _this.style.cssText += '' + attr + ':' + val + ';';\n          });\n        }\n      }\n      return this;\n    },\n    hasClass : function (cls) {\n      var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n      for (var i = 0; i < this.length; i++) {\n        if (this[i].className.match(reg)){\n          return true;\n        }\n      }\n      return false;\n    },\n    addClass : function(cls) {\n      var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n      for (var i = 0; i < this.length; i++) {\n        if(!this[i].className.match(reg)) {\n          //this[i].className += ' ' + cls;\n          this[i].className += ' ' + cls;\n        }\n      }\n      return this;\n    },\n    removeClass : function(cls) {\n      var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n      for (var i = 0; i < this.length; i++) {\n        if (this[i].className.match(reg)) {\n          this[i].className = this[i].className.replace(cls, '');\n        }\n      }\n      return this;\n    },\n    bind : function(type,callback){\n      for (var i = 0; i < this.length; i++) {\n        this[i].addEventListener(type,callback,false);\n      }\n      return this;\n    }\n\n  };\n\n  Zf.each = function(obj,callback){\n    var len = obj.length,\n        con = obj.constructor,\n        i,\n        val;\n    if(con === w.zf){\n      for(i = 0;i < len ; i++){\n        val = callback.call(obj[i], i, obj[i]);\n        if (val === false) {\n          break;\n        }\n      }\n    } else if(isArray(obj)){//数组\n      for(i = 0;i < len ; i++){\n        val = callback.call(obj[i], i, obj[i]);\n        if (val === false) {\n          break;\n        }\n      }\n    } else{\n      for (i in obj) {\n        //val = callback.call(obj[i], i, obj[i]);\n        val = callback( i, obj[i]);\n        if (val === false) {\n          break;\n        }\n      }\n    }\n  };\n\n  Zf.getWidth = function(){\n    return (doc.body.clientWidth+doc.body.scrollLeft);\n  }\n\n  Zf.getHeight = function(){\n    return (doc.body.clientHeight+doc.body.scrollTop);\n  }\n\n  //不完善，对ie不兼容\n  Zf.ready = function(fn){\n    doc.addEventListener('DOMContentLoaded', function () {\n      fn && fn();\n    }, false);\n    doc.removeEventListener('DOMContentLoaded', fn, true);\n  };\n\n  Zf.dele = delegate;\n\n  //直接挂载方法  可zf.ajax调用\n  Zf.ajax = function (options) {\n    var defaultOptions = {\n      url : false,\n      type : 'GET',\n      data : false,\n      success: false, //数据成功返回后的回调方法\n      complete: false //ajax完成后的回调方法\n    };\n    var xhr = createXHR();\n    var i;\n    for(i in defaultOptions){\n      if(options[i] === undefined){\n        options[i] = defaultOptions[i];\n      }\n    }\n\n    xhr.open(options.type, options.url);\n    xhr.onreadystatechange = function(){\n      if(xhr.readyState === 4){\n        var result,\n          status = xhr.status;\n\n        if ((status >= 200 && status < 300) || status === 304) {\n          result = xhr.responseText;\n          if (w.JSON) {\n            result = JSON.parse(result);\n          } else {\n            result = w.eval('(' + result + ')');\n          }\n          ajaxSuccess(result, xhr);\n        } else {\n          w.console.log(\"ERR\", xhr.status);\n        }\n      }\n    };\n\n    //只能发送json数据\n    if (options.type == 'POST') {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n    }\n\n    xhr.send(options.data ? JSON.stringify(options.data) : null);\n\n    function createXHR(){\n      if(typeof XMLHttpRequest !== \"undefined\"){\n        return new XMLHttpRequest();\n      } else if(typeof ActiveXObject !== \"undefined\"){\n        if(typeof arguments.callee.activeXString !== \"string\"){\n          var versions = [\"MSXML2.XMLHttp.6.0\",\"MSXML2.XMLHttp.3.0\",\"MSXML2.XMLHttp\"],\n            i,len;\n          for(i = 0,len = versions.length; i < len; i++){\n            try{\n              new ActiveXObject(versions[i]);\n              arguments.callee.activeXString = versions[i];\n              break;\n            }catch(ex){\n\n            }\n          }\n        }\n        return new ActiveXObject(arguments.callee.activeXString);\n      } else{\n        throw new Error(\"No XHR object available\");\n      }\n    }\n\n\n    function ajaxSuccess(data, xhr){\n      var status = 'success';\n      //判断 options.success 这个function是否存在，如果存在则执行option.success(data,options.status.xhr)\n      options.success && options.success(data, options, status, xhr)\n      ajaxComplete(status);\n    }\n\n    function ajaxComplete(status) {\n      options.complete && options.complete(status);\n    }\n\n  };\n\n  //事件代理\n  //agent是父元素，selector是子元素\n  function delegate(agent,type,selector,fn){\n    agent.addEventListener(type,function(e) {\n      //目标元素,点击的元素\n      var target = e.target;\n      //当前正在处理事件的元素，父元素\n      var cTarget = e.currentTarget;\n      var bubbles = true;\n      while (bubbles && target !== cTarget) {\n        if (filter(agent, selector, target)) {\n          //filter为true，执行回调\n          //将this改为target\n          console.log(target);\n          bubbles = fn.call(target, e);\n        }\n        target = target.parentNode;\n        return bubbles;\n      }\n    },false);\n\n    //判断目标元素是否在代理中，目标元素是最底层的元素\n    function filter(agent,selector,target){\n      var nodes = agent.querySelectorAll(selector);\n      for(var i = 0,length = nodes.length;i < length;i++){\n        if(nodes[i] === target){\n          console.log(true);\n          return true;\n        }\n      }\n    }\n  }\n\n  function isArray(obj) {\n    return Array.isArray(obj);\n  }\n\n  //保证init.prototype和Zf.prototype相等\n  Zf.prototype.init.prototype = Zf.prototype;\n  w.zf = Zf;\n})(window,document);\n\n"],"sourceRoot":"/source/"}