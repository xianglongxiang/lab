{"version":3,"sources":["zf/zf.js"],"names":["window","docment","delegate","agent","type","selector","fn","filter","target","i","nodes","querySelectorAll","length","addEventListener","e","cTarget","currentTarget","bubbles","call","parentNode","isArray","obj","Array","w","doc","Zf","prototype","init","constructor","splice","element","this","ready","trim","charAt","match","substring","getElementsByClassName","getElementById","css","attr","val","arguments","getComputedStyle","style","_this","zf","each","console","log","cssText","hasClass","cls","reg","RegExp","className","addClass","removeClass","replace","bind","callback","len","con","getWidth","body","clientWidth","scrollLeft","getHeight","clientHeight","scrollTop","removeEventListener","dele","ajax","options","createXHR","XMLHttpRequest","ActiveXObject","callee","activeXString","versions","ex","Error","ajaxSuccess","data","xhr","status","success","ajaxComplete","complete","defaultOptions","url","undefined","open","onreadystatechange","readyState","result","responseText","JSON","parse","eval","setRequestHeader","send","stringify","document"],"mappings":"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","file":"zf/zf.js","sourcesContent":["/*\n* 添加\n* 事件代理\n* */\n\n(function(window,docment){\n  'use strict';\n  var w = window,\n      doc = docment;\n  var Zf = function (selector) {\n    return Zf.prototype.init(selector);\n  };\n  Zf.prototype = {\n    constructor : Zf,\n    length : 0,\n    splice : [].splice(),\n    selector : '',\n    init : function(selector){\n      var element,i;\n      if(!selector){return this;}\n\n      if(typeof selector === 'object'){\n        selector = [selector];\n        for ( i = 0; i < selector.length; i += 1) {\n          this[i] = selector[i];\n        }\n        this.length = selector.length;\n        return this;\n      } else if(typeof selector === 'function'){\n        Zf.ready(selector);\n        return ;\n      }\n\n      selector = selector.trim();\n\n      if(selector.charAt(0) === \"#\" && !selector.match('\\\\s')){\n\n        selector = selector.substring(1);\n        element = doc.getElementById(selector);\n        this.selector = selector;\n        this.length = 1;\n        this[0] = element;\n        return this;\n\n      } else if(selector.charAt(0) === \".\"){\n\n        selector = selector.substring(1);\n        element = doc.getElementsByClassName(selector);\n        for (i = 0; i < element.length; i++) {\n          this[i] = element[i];\n        }\n        this.selector = selector;\n        this.length = element.length;\n        return this;\n\n      } else{\n\n        element = doc.querySelectorAll(selector);\n        for (i = 0; i < element.length; i++) {\n          this[i] = element[i];\n        }\n        this.selector = selector;\n        this.length = element.length;\n        return this;\n      }\n    },\n\n    css : function(attr,val){\n      var i;\n      for(i = 0;i < this.length; i++) {\n        if(typeof attr === 'string') {\n          if (arguments.length === 1) {\n            return getComputedStyle(this[i], null)[attr];\n          }\n          this[i].style[attr] = val;\n        } else{\n          var _this = this[i];\n          w.zf.each(attr,function(attr,val) {\n            w.console.log(this);\n            _this.style.cssText += '' + attr + ':' + val + ';';\n          });\n        }\n      }\n      return this;\n    },\n    hasClass : function (cls) {\n      var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n      for (var i = 0; i < this.length; i++) {\n        if (this[i].className.match(reg)){\n          return true;\n        }\n      }\n      return false;\n    },\n    addClass : function(cls) {\n      var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n      for (var i = 0; i < this.length; i++) {\n        if(!this[i].className.match(reg)) {\n          this[i].className += ' ' + cls;\n        }\n      }\n      return this;\n    },\n    removeClass : function(cls) {\n      var reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n      for (var i = 0; i < this.length; i++) {\n        if (this[i].className.match(reg)) {\n          this[i].className = this[i].className.replace(' ' + cls, '');\n        }\n      }\n      return this;\n    },\n    bind : function(type,callback){\n      for (var i = 0; i < this.length; i++) {\n        this[i].addEventListener(type,callback,false);\n      }\n      return this;\n    }\n\n  };\n\n  Zf.each = function(obj,callback){\n    var len = obj.length,\n        con = obj.constructor,\n        i,\n        val;\n    if(con === w.zf){\n      for(i = 0;i < len ; i++){\n        val = callback.call(obj[i], i, obj[i]);\n        if (val === false) {\n          break;\n        }\n      }\n    } else if(isArray(obj)){//数组\n      for(i = 0;i < len ; i++){\n        val = callback.call(obj[i], i, obj[i]);\n        if (val === false) {\n          break;\n        }\n      }\n    } else{\n      for (i in obj) {\n        //val = callback.call(obj[i], i, obj[i]);\n        val = callback( i, obj[i]);\n        if (val === false) {\n          break;\n        }\n      }\n    }\n  };\n\n  Zf.getWidth = function(){\n    return (doc.body.clientWidth+doc.body.scrollLeft);\n  }\n\n  Zf.getHeight = function(){\n    return (doc.body.clientHeight+doc.body.scrollTop);\n  }\n\n  //不完善，对ie不兼容\n  Zf.ready = function(fn){\n    doc.addEventListener('DOMContentLoaded', function () {\n      fn && fn();\n    }, false);\n    doc.removeEventListener('DOMContentLoaded', fn, true);\n  };\n\n  Zf.dele = delegate;\n\n  //直接挂载方法  可zf.ajax调用\n  Zf.ajax = function (options) {\n    var defaultOptions = {\n      url : false,\n      type : 'GET',\n      data : false,\n      success: false, //数据成功返回后的回调方法\n      complete: false //ajax完成后的回调方法\n    };\n    var xhr = createXHR();\n    var i;\n    for(i in defaultOptions){\n      if(options[i] === undefined){\n        options[i] = defaultOptions[i];\n      }\n    }\n\n    xhr.open(options.type, options.url);\n    xhr.onreadystatechange = function(){\n      if(xhr.readyState === 4){\n        var result,\n          status = xhr.status;\n\n        if ((status >= 200 && status < 300) || status === 304) {\n          result = xhr.responseText;\n          if (w.JSON) {\n            result = JSON.parse(result);\n          } else {\n            result = w.eval('(' + result + ')');\n          }\n          ajaxSuccess(result, xhr);\n        } else {\n          w.console.log(\"ERR\", xhr.status);\n        }\n      }\n    };\n\n    //只能发送json数据\n    if (options.type == 'POST') {\n      xhr.setRequestHeader('Content-Type', 'application/json');\n    }\n\n    xhr.send(options.data ? JSON.stringify(options.data) : null);\n\n    function createXHR(){\n      if(typeof XMLHttpRequest !== \"undefined\"){\n        return new XMLHttpRequest();\n      } else if(typeof ActiveXObject !== \"undefined\"){\n        if(typeof arguments.callee.activeXString !== \"string\"){\n          var versions = [\"MSXML2.XMLHttp.6.0\",\"MSXML2.XMLHttp.3.0\",\"MSXML2.XMLHttp\"],\n            i,len;\n          for(i = 0,len = versions.length; i < len; i++){\n            try{\n              new ActiveXObject(versions[i]);\n              arguments.callee.activeXString = versions[i];\n              break;\n            }catch(ex){\n\n            }\n          }\n        }\n        return new ActiveXObject(arguments.callee.activeXString);\n      } else{\n        throw new Error(\"No XHR object available\");\n      }\n    }\n\n\n    function ajaxSuccess(data, xhr){\n      var status = 'success';\n      //判断 options.success 这个function是否存在，如果存在则执行option.success(data,options.status.xhr)\n      options.success && options.success(data, options, status, xhr)\n      ajaxComplete(status);\n    }\n\n    function ajaxComplete(status) {\n      options.complete && options.complete(status);\n    }\n\n  };\n\n  //事件代理\n  //agent是父元素，selector是子元素\n  function delegate(agent,type,selector,fn){\n    agent.addEventListener(type,function(e) {\n      var target = e.target;//目标元素,点击的元素\n      var cTarget = e.currentTarget;//当前正在处理事件的元素，父元素\n      var bubbles = true;\n      while (bubbles && target !== cTarget) {\n        if (filter(agent, selector, target)) {\n          //filter为true，执行回调\n          //将this改为target\n          bubbles = fn.call(target, e);\n        }\n        target = target.parentNode;\n        return bubbles;\n      }\n    },false);\n\n    //判断目标元素是否在代理中\n    function filter(agent,selector,target){\n      var nodes = agent.querySelectorAll(selector);\n      var i;\n      for(i = 0;i < nodes.length;i++){\n        if(nodes[i] === target){\n          return true;\n        }\n      }\n    }\n\n  }\n\n  function isArray(obj) {\n    return Array.isArray(obj);\n  }\n\n  //保证init.prototype和Zf.prototype相等\n  Zf.prototype.init.prototype = Zf.prototype;\n  w.zf = Zf;\n})(window,document);\n\n"],"sourceRoot":"/source/"}